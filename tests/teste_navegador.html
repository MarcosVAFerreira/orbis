<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Teste da API Orbis</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            max-width: 600px;
        }
        input, button {
            padding: 8px;
            margin: 4px 0;
            width: 100%;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-top: 10px;
        }
        h2 { margin-top: 30px; }
    </style>
</head>
<body>

<h1>Teste da API Orbis</h1>

<!-- GET -->
<h2>Listar Usu치rios (GET)</h2>
<button onclick="listarUsuarios()">GET /usuarios</button>

<!-- POST -->
<h2>Criar Usu치rio (POST)</h2>
<input id="nome" type="text" placeholder="Nome">
<input id="email" type="email" placeholder="Email">
<button onclick="criarUsuario()">POST /usuarios</button>

<!-- DELETE -->
<h2>Deletar Usu치rio (DELETE)</h2>
<input id="deleteId" type="text" placeholder="ID do usu치rio">
<button onclick="deletarUsuario()">DELETE /usuarios/:id</button>

<h2>Resposta da API</h2>
<textarea id="resposta" readonly></textarea>

<script>
    const API = "http://127.0.0.1:5000";

    async function listarUsuarios() {
        const r = await fetch(`${API}/usuarios`);
        document.getElementById("resposta").value = await r.text();
    }

    async function criarUsuario() {
        const nome = document.getElementById("nome").value;
        const email = document.getElementById("email").value;

        const r = await fetch(`${API}/usuarios`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ nome, email })
        });

        document.getElementById("resposta").value = await r.text();
    }

    async function deletarUsuario() {
        const id = document.getElementById("deleteId").value;

        const r = await fetch(`${API}/usuarios/${id}`, {
            method: "DELETE"
        });

        document.getElementById("resposta").value = await r.text();
    }
</script>

</body>
</html>
